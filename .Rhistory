library("tidyverse")
library("janitor")
library("naniar")
#sharks <- read_csv("data/SharkIncidents_1950_2022_220302.csv") %>% clean_names()
sharks <- read_csv("data/SharkIncidents_1950_2022_220302.csv") %>% clean_names()
glimpse(sharks)
summary(sharks)
str(sharks)
summary(sharks)
dim(sharks)
glimpse(sharks)
dim(sharks)
View(sharks)
sharks <- sharks %>%
filter(incident_num != "Not Counted")
sharks <- sharks %>%
filter(incident_num != "NOT COUNTED")
View(sharks)
View(sharks)
sharks %>%
ggplot(aes(x=county)) +
geom_col()
sharks %>%
ggplot(aes(x=county)) +
geom_bar()
sharks %>%
ggplot(aes(x=county)) +
geom_bar() +
labs(title = "Shark Incidents in Each County of California",
x="County",
y="Incident Numbers")+
coord_flip()
sharks %>%
ggplot(aes(x=county, fill="aliceblue")) +
geom_bar() +
labs(title = "Shark Incidents in Each County of California",
x="County",
y="Incident Numbers")+
coord_flip()+
sharks %>%
ggplot(aes(x=county, fill="aliceblue")) +
geom_bar() +
labs(title = "Shark Incidents in Each County of California",
x="County",
y="Incident Numbers")+
coord_flip()
sharks %>%
ggplot(aes(x=county, fill=aliceblue)) +
geom_bar() +
labs(title = "Shark Incidents in Each County of California",
x="County",
y="Incident Numbers")+
coord_flip()
sharks %>%
ggplot(aes(x=county)) +
geom_bar() +
labs(title = "Shark Incidents in Each County of California",
x="County",
y="Incident Numbers")+
coord_flip()
View(sharks)
sharks %>%
ggplot(aes(x=month))+
geom_bar()
sharks %>%
ggplot(aes(x=month))+
geom_bar()+
theme_classic()
sharks %>%
month <- as.factor(month) %>%
ggplot(aes(x=month))+
geom_bar()+
labs(title = "Shark Incidents in different month",
x="Month",
y="Incident Numbers")
sharks %>%
month <- as.character(month) %>%
ggplot(aes(x=month))+
geom_bar()+
labs(title = "Shark Incidents in different month",
x="Month",
y="Incident Numbers")
sharks %>%
month <- as.number(month) %>%
ggplot(aes(x=month))+
geom_bar()+
labs(title = "Shark Incidents in different month",
x="Month",
y="Incident Numbers")
sharks %>%
month <- as.double(month) %>%
ggplot(aes(x=month))+
geom_bar()+
labs(title = "Shark Incidents in different month",
x="Month",
y="Incident Numbers")
sharks %>%
month <- as.factor(month)
sharks %>%
month <- as_factor(month)
sharks %>%
ggplot(aes(x=month))+
geom_bar()+
labs(title = "Shark Incidents in different month",
x="Month",
y="Incident Numbers")
sharks %>%
group_by(county,injury)
sharks %>%
group_by(county,injury) %>%
summarise(incident_total = sum(incident_num))
sharks %>%
incident_num <- as.double(incident_num) %>%
group_by(county,injury) %>%
summarise(incident_total = sum(incident_num))
sharks %>%
incident_num <- as.double(sharks$incident_num) %>%
group_by(county,injury) %>%
summarise(incident_total = sum(incident_num))
sharks %>%
incident_num <- as.double(sharks$incident_num)
sharks %>%
incident_num = as.double(sharks$incident_num)
sharks$incident_num = as.double(sharks$incident_num)
sharks$incident_num = as.double(sharks$incident_num)
sharks %>%
group_by(county,injury) %>%
summarise(incident_total = sum(incident_num))
sharks$incident_num = as.double(sharks$incident_num)
sharks %>%
group_by(county,injury) %>%
summarise(incident_total = sum(incident_num)) %>%
filter(injury == "fatal") %>%
arrange(incident_total)
sharks$incident_num = as.double(sharks$incident_num)
sharks %>%
group_by(county,injury) %>%
summarise(incident_total = sum(incident_num)) %>%
filter(injury == "fatal") %>%
arrange(-incident_total)
sharks$incident_num = as.double(sharks$incident_num)
sharks %>%
group_by(county,injury) %>%
filter(injury == "fatal") %>%
summarise(incident_total = sum(incident_num)) %>%
arrange(-incident_total)
sharks %>%
group_by(county,injury) %>%
summarise(incident_total = sum(incident_num))
sharks %>%
ggplot(aes(x=mode,y=incident_num))+
geom_col()
sharks %>%
ggplot(aes(x=month))+
geom_bar()+
labs(title = "Shark Incidents in Different Month",
x="Month",
y="Incident Numbers")
sharks %>%
ggplot(aes(x=mode,y=incident_num))+
geom_col()+
labs(title = "Shark Incidents vs. Type of Ativity",
x="Type of Activity",
y="Incident Numbers")
sharks %>%
ggplot(aes(x=mode,y=incident_num))+
geom_col()+
labs(title = "Shark Incidents vs. Type of Ativity",
x="Type of Activity",
y="Incident Numbers")+
coord_flip()
sharks %>%
ggplot(aes(x=mode,y=incident_num))+
geom_col()+
labs(title = "Shark Incidents vs. Type of Ativity",
x="Type of Activity",
y="Incident Numbers")+
theme(axis.text.x=element_text(angle=45,hjust=1))+
coord_flip()
sharks %>%
ggplot(aes(x=mode,y=incident_num))+
geom_col()+
labs(title = "Shark Incidents vs. Type of Ativity",
x="Type of Activity",
y="Incident Numbers")+
theme(axis.text.y=element_text(angle=45,hjust=1))+
coord_flip()
sharks %>%
ggplot(aes(x=mode,y=incident_num))+
geom_col()+
labs(title = "Shark Incidents vs. Type of Ativity",
x="Type of Activity",
y="Incident Numbers")+
coord_flip()+
theme(axis.text.y=element_text(angle=45,hjust=1))
sharks %>%
ggplot(aes(x=injury,y=incident_num))+
geom_col()
sharks %>%
ggplot(aes(x=injury,y=incident_num))+
geom_col()+
facet_grid(~.mode)
sharks %>%
ggplot(aes(x=injury,y=incident_num))+
geom_col()+
facet_wrap(~.mode)
sharks %>%
ggplot(aes(x=injury,y=incident_num))+
geom_col()+
facet_wrap(~mode)
sharks %>%
ggplot(aes(x=injury,y=incident_num))+
geom_col()+
facet_wrap(~mode)+
labs(title = "Shark Incidents'level vs. Type of Ativity",
x="Level of Injury",
y="Incident Numbers")+
sharks %>%
ggplot(aes(x=injury,y=incident_num))+
geom_col()+
facet_wrap(~mode)+
labs(title = "Shark Incidents'level vs. Type of Ativity",
x="Level of Injury",
y="Incident Numbers")
sharks %>%
ggplot(aes(x=injury,y=incident_num))+
geom_col()+
facet_wrap(~mode)+
labs(title = "Shark Incidents'Level vs. Type of Ativity",
x="Level of Injury",
y="Incident Numbers")+
scale_y_log10()
sharks %>%
ggplot(aes(x=injury,y=incident_num))+
geom_col()+
facet_wrap(~mode)+
labs(title = "Shark Incidents'Level vs. Type of Ativity",
x="Level of Injury",
y="Incident Numbers")
sharks %>%
group_by(species) %>%
summarise(incident_total = sum(incident_num)) %>%
arrange(-incident_total)
sharks %>%
filter(species="Great White")
sharks %>%
filter(species=="Great White")
sharks %>%
filter(species=="White")
sharks %>%
filter(species=="White") %>%
ggplot(aes(x=injury,y=incident_num))
sharks %>%
filter(species=="White") %>%
sharks %>%
filter(species=="White")
sharks %>%
ggplot(aes(x=county,y=incident_num)) +
geom_col() +
labs(title = "Shark Incidents in Each County of California",
x="County",
y="Incident Numbers")+
coord_flip()
sharks %>%
ggplot(aes(x=month,y=incident_num))+
geom_col()+
labs(title = "Shark Incidents in Different Month",
x="Month",
y="Incident Numbers")
sharks %>%
filter(species=="White") %>%
ggplot(aes(x=injury,y=incident_num)) %>%
geom_col()
sharks %>%
filter(species=="White") %>%
ggplot(aes(x=injury,y=incident_num))+
geom_col()
sharks %>%
filter(species=="White") %>%
ggplot(aes(x=injury,y=incident_num))+
geom_col()+
labs(title = "Great White Incidents and Injury Types",
x="Level of Injury",
y="Incident Numbers")
sharks %>%
filter(species=="White") %>%
ggplot(aes(x=injury,y=incident_num))+
geom_col()+
labs(title = "Great White Incidents and Injury Types",
x="Level of Injury",
y="Incident Numbers")+
theme_gray()
View(sharks)
white_sharks <- read_csv("data/White sharks tracked from Southeast Farallon Island, CA, USA, 1999 2004.csv", na = c("?", "n/a")) %>% clean_names()
str(white_sharks)
dim(white_sharks)
str(white_sharks)
glimpse(white_sharks)
View(white_sharks)
white_sharks %>%
separate(shark, into=c("shark_num", "sex"), sep="-")
white_sharks %>%
separate(shark, into=c("shark_num", "sex"), sep="-") %>%
group_by(sex) %>%
summarise(ave_length = mean(total_length_cm))
white_sharks %>%
separate(shark, into=c("shark_num", "sex"), sep="-") %>%
group_by(sex) %>%
summarise(ave_length = mean(total_length_cm))
white_sharks%>%
separate(shark, into=c("shark_num", "sex"), sep="-") %>%
filter(sex != "U") %>%
ggplot(aes(x=sex,y=total_length_cm))+
geom_boxplot()
white_sharks%>%
separate(shark, into=c("shark_num", "sex"), sep="-") %>%
filter(sex != "U") %>%
ggplot(aes(x=sex,y=total_length_cm))+
geom_boxplot()+
labs(title = "Great White Shark Length vs. Sex",
x="Sex",
y="Length(cm)")
heartrate3 <- heartrate2 %>%
# separate(patient, into=c("patient", "sex"), sep="_") %>%
pivot_longer(-c(patient, sex),
names_to = "drug",
values_to = "heartrate")
white_sharks%>%
# separate(shark, into=c("shark_num", "sex"), sep="-") %>%
filter(sex != "U") %>%
ggplot(aes(x=sex,y=total_length_cm))+
geom_boxplot()+
labs(title = "Great White Shark Length vs. Sex",
x="Sex",
y="Length(cm)")
white_sharks %>%
#separate(shark, into=c("shark_num", "sex"), sep="-") %>%
group_by(sex) %>%
summarise(ave_length = mean(total_length_cm))
sharks %>%
group_by(year) %>%
summarise(total_incidents = sum(incident_num)) %>%
arrange(-total_incidents)
sharks %>%
ggplot(aes(x=month,y=incident_num))+
geom_col()+
labs(title = "Shark Incidents in Different Month",
x="Month",
y="Incident Numbers")
sharks <- sharks %>%
filter(incident_num != "NOT COUNTED")
sharks <- read_csv("data/SharkIncidents_1950_2022_220302.csv") %>% clean_names()
glimpse(sharks)
dim(sharks)
sharks <- sharks %>%
filter(incident_num != "NOT COUNTED")
sharks %>%
ggplot(aes(x=month,y=incident_num))+
geom_col()+
labs(title = "Shark Incidents in Different Month",
x="Month",
y="Incident Numbers")
sharks %>%
ggplot(aes(x=county,y=incident_num)) +
geom_col() +
labs(title = "Shark Incidents in Each County of California",
x="County",
y="Incident Numbers")+
coord_flip()
sharks <- sharks %>%
filter(incident_num != "NOT COUNTED")
sharks$incident_num = as.double(sharks$incident_num)
sharks %>%
ggplot(aes(x=county,y=incident_num)) +
geom_col() +
labs(title = "Shark Incidents in Each County of California",
x="County",
y="Incident Numbers")+
coord_flip()
sharks %>%
ggplot(aes(x=month,y=incident_num))+
geom_col()+
labs(title = "Shark Incidents in Different Month",
x="Month",
y="Incident Numbers")
sharks %>%
group_by(county,injury) %>%
filter(injury == "fatal") %>%
summarise(incident_total = sum(incident_num)) %>%
arrange(-incident_total)
sharks %>%
group_by(county,injury) %>%
summarise(incident_total = sum(incident_num))
